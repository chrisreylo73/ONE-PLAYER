{"ast":null,"code":"var _s2 = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport useAuth from \"./components/useAuth\";\nconst useAuthCode = () => {\n  _s2();\n  var _s = $RefreshSig$();\n  const [code, setCode] = useState(null);\n  const [accessToken, setAccessToken] = useState(null);\n  useEffect(() => {\n    // When the component mounts, check if there is a code in the URL parameters\n    const codeFromUrl = new URLSearchParams(window.location.search).get(\"code\");\n    if (codeFromUrl) {\n      setCode(codeFromUrl);\n    }\n  }, []);\n\n  // Fetch access token using the useAuth hook once the code is available\n  _s(useEffect(_s(() => {\n    _s();\n    if (code) {\n      useAuth(code).then(token => {\n        setAccessToken(token);\n      }).catch(error => {\n        console.log(\"Error:\", error);\n      });\n    }\n  }, \"aXa0DhOnbpb+WuJfaBQuXhXHp4U=\", false, function () {\n    return [useAuth];\n  }), [code]), \"aXa0DhOnbpb+WuJfaBQuXhXHp4U=\", false, function () {\n    return [useAuth];\n  });\n  return accessToken;\n};\n_s2(useAuthCode, \"Zb+O9gvf2t/7KjjgSJbwgH3E+IM=\");\nexport default useAuthCode;","map":{"version":3,"names":["useEffect","useState","useAuth","useAuthCode","_s2","_s","$RefreshSig$","code","setCode","accessToken","setAccessToken","codeFromUrl","URLSearchParams","window","location","search","get","then","token","catch","error","console","log"],"sources":["C:/Users/chris/Desktop/Spotify-Weather/client/src/components/useAuthCode.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport useAuth from \"./components/useAuth\";\r\n\r\nconst useAuthCode = () => {\r\n\tconst [code, setCode] = useState(null);\r\n\tconst [accessToken, setAccessToken] = useState(null);\r\n\r\n\tuseEffect(() => {\r\n\t\t// When the component mounts, check if there is a code in the URL parameters\r\n\t\tconst codeFromUrl = new URLSearchParams(window.location.search).get(\"code\");\r\n\t\tif (codeFromUrl) {\r\n\t\t\tsetCode(codeFromUrl);\r\n\t\t}\r\n\t}, []);\r\n\r\n\t// Fetch access token using the useAuth hook once the code is available\r\n\tuseEffect(() => {\r\n\t\tif (code) {\r\n\t\t\tuseAuth(code)\r\n\t\t\t\t.then((token) => {\r\n\t\t\t\t\tsetAccessToken(token);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tconsole.log(\"Error:\", error);\r\n\t\t\t\t});\r\n\t\t}\r\n\t}, [code]);\r\n\r\n\treturn accessToken;\r\n};\r\n\r\nexport default useAuthCode;\r\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,OAAO,MAAM,sBAAsB;AAE1C,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,GAAA;EAAA,IAAAC,EAAA,GAAAC,YAAA;EACzB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACQ,WAAW,EAAEC,cAAc,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAEpDD,SAAS,CAAC,MAAM;IACf;IACA,MAAMW,WAAW,GAAG,IAAIC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAACC,GAAG,CAAC,MAAM,CAAC;IAC3E,IAAIL,WAAW,EAAE;MAChBH,OAAO,CAACG,WAAW,CAAC;IACrB;EACD,CAAC,EAAE,EAAE,CAAC;;EAEN;EACAN,EAAA,CAAAL,SAAS,CAAAK,EAAA,CAAC,MAAM;IAAAA,EAAA;IACf,IAAIE,IAAI,EAAE;MACTL,OAAO,CAACK,IAAI,CAAC,CACXU,IAAI,CAAEC,KAAK,IAAK;QAChBR,cAAc,CAACQ,KAAK,CAAC;MACtB,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;QACjBC,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEF,KAAK,CAAC;MAC7B,CAAC,CAAC;IACJ;EACD,CAAC;IAAA,QARClB,OAAO;EAAA,IAQN,CAACK,IAAI,CAAC,CAAC;IAAA,QARRL,OAAO;EAAA;EAUT,OAAOO,WAAW;AACnB,CAAC;AAACL,GAAA,CA1BID,WAAW;AA4BjB,eAAeA,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}