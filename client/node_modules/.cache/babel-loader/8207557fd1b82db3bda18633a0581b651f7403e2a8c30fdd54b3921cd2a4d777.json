{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\chris\\\\Desktop\\\\TEMP SPOTIFY APP\\\\frontend\\\\src\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport useAuth from \"./useAuth\";\nimport { Container, Form } from \"react-bootstrap\";\nimport SpotifyWebApi from \"spotify-web-api-node\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = _ref => {\n  _s();\n  let {\n    code\n  } = _ref;\n  const accessToken = useAuth(code);\n  const [search, setSearch] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]);\n  console.log(searchResults);\n  const spotifyAPI = new SpotifyWebApi({\n    clientId: \"b96044a084a542c691fe9b0eca9684de\"\n  });\n  useEffect(() => {\n    if (!accessToken) return;\n    spotifyAPI.setAccessToken(accessToken);\n  }, [accessToken]);\n  useEffect(() => {\n    if (!search) return setSearchResults(searchResults);\n    if (!accessToken) return setSearchResults;\n    spotifyAPI.searchTracks(search).then(res => {\n      setSearchResults(res.body.tracks.items.map(track => {\n        const smallestAlbumImage = track.album.images.reduce((smallest, image) => {\n          if (image.height < smallest.height) return image;\n          return smallest;\n        }, track.album.images[0]);\n        return {\n          artist: track.artists[0].name,\n          title: track.name,\n          uri: track.uri,\n          albumUrl: smallestAlbumImage\n        };\n      }));\n    });\n  }, [search, accessToken]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"d-flex flex-column py-2\",\n    style: {\n      height: \"100vh\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n      type: \"search\",\n      placeholder: \"Search songs/artists\",\n      value: search,\n      onChange: e => setSearch(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-grow-1 my-2\",\n      style: {\n        overflowY: \"auto\"\n      },\n      children: \"Songs\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Bottom\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 3\n  }, this);\n};\n_s(Dashboard, \"Z2Gwgh21IOX6Mc5b1iJy+jBr3GI=\", false, function () {\n  return [useAuth];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["useState","useEffect","useAuth","Container","Form","SpotifyWebApi","jsxDEV","_jsxDEV","Dashboard","_ref","_s","code","accessToken","search","setSearch","searchResults","setSearchResults","console","log","spotifyAPI","clientId","setAccessToken","searchTracks","then","res","body","tracks","items","map","track","smallestAlbumImage","album","images","reduce","smallest","image","height","artist","artists","name","title","uri","albumUrl","className","style","children","Control","type","placeholder","value","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","overflowY","_c","$RefreshReg$"],"sources":["C:/Users/chris/Desktop/TEMP SPOTIFY APP/frontend/src/Dashboard.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport useAuth from \"./useAuth\";\r\nimport { Container, Form } from \"react-bootstrap\";\r\nimport SpotifyWebApi from \"spotify-web-api-node\";\r\n\r\nconst Dashboard = ({ code }) => {\r\n\tconst accessToken = useAuth(code);\r\n\tconst [search, setSearch] = useState(\"\");\r\n\tconst [searchResults, setSearchResults] = useState([]);\r\n\tconsole.log(searchResults);\r\n\r\n\tconst spotifyAPI = new SpotifyWebApi({\r\n\t\tclientId: \"b96044a084a542c691fe9b0eca9684de\",\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!accessToken) return;\r\n\t\tspotifyAPI.setAccessToken(accessToken);\r\n\t}, [accessToken]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!search) return setSearchResults(searchResults);\r\n\t\tif (!accessToken) return setSearchResults;\r\n\r\n\t\tspotifyAPI.searchTracks(search).then((res) => {\r\n\t\t\tsetSearchResults(\r\n\t\t\t\tres.body.tracks.items.map((track) => {\r\n\t\t\t\t\tconst smallestAlbumImage = track.album.images.reduce((smallest, image) => {\r\n\t\t\t\t\t\tif (image.height < smallest.height) return image;\r\n\t\t\t\t\t\treturn smallest;\r\n\t\t\t\t\t}, track.album.images[0]);\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tartist: track.artists[0].name,\r\n\t\t\t\t\t\ttitle: track.name,\r\n\t\t\t\t\t\turi: track.uri,\r\n\t\t\t\t\t\talbumUrl: smallestAlbumImage,\r\n\t\t\t\t\t};\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t});\r\n\t}, [search, accessToken]);\r\n\r\n\treturn (\r\n\t\t<Container className=\"d-flex flex-column py-2\" style={{ height: \"100vh\" }}>\r\n\t\t\t<Form.Control type=\"search\" placeholder=\"Search songs/artists\" value={search} onChange={(e) => setSearch(e.target.value)} />\r\n\t\t\t<div className=\"flex-grow-1 my-2\" style={{ overflowY: \"auto\" }}>\r\n\t\t\t\tSongs\r\n\t\t\t</div>\r\n\t\t\t<div>Bottom</div>\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}