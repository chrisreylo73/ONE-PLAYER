{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\chris\\\\Desktop\\\\spotify-clone-main\\\\client\\\\src\\\\components\\\\MusicVisualizer.jsx\",\n  _s = $RefreshSig$();\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MusicVisualizer = () => {\n  _s();\n  const canvasRef = useRef(null);\n  const animationRef = useRef(null);\n  useEffect(() => {\n    const audioContext = new (window.AudioContext || window.webkitAudioContext)();\n    const analyser = audioContext.createAnalyser();\n    analyser.fftSize = 2048;\n    const canvas = canvasRef.current;\n    const canvasCtx = canvas.getContext(\"2d\");\n    const audioStream = audioContext.createMediaStreamSource(document.documentElement.captureStream());\n    audioStream.connect(analyser);\n    const renderFrame = () => {\n      const bufferLength = analyser.frequencyBinCount;\n      const dataArray = new Uint8Array(bufferLength);\n      analyser.getByteFrequencyData(dataArray);\n      canvasCtx.clearRect(0, 0, canvas.width, canvas.height);\n      const barWidth = canvas.width / bufferLength * 2;\n      let x = 0;\n      for (let i = 0; i < bufferLength; i++) {\n        const barHeight = dataArray[i] / 255 * canvas.height;\n        const hue = i / bufferLength * 360;\n        canvasCtx.fillStyle = `hsl(${hue}, 100%, 50%)`;\n        canvasCtx.fillRect(x, canvas.height - barHeight, barWidth, barHeight);\n        x += barWidth + 1;\n      }\n      animationRef.current = requestAnimationFrame(renderFrame);\n    };\n    renderFrame();\n    return () => {\n      cancelAnimationFrame(animationRef.current);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      width: 800,\n      height: 400,\n      style: {\n        border: \"1px solid white\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 3\n  }, this);\n};\n_s(MusicVisualizer, \"X5bd7Q1XXg1keIMflMhOltk4wyU=\");\n_c = MusicVisualizer;\nexport default MusicVisualizer;\nvar _c;\n$RefreshReg$(_c, \"MusicVisualizer\");","map":{"version":3,"names":["MusicVisualizer","_s","canvasRef","useRef","animationRef","useEffect","audioContext","window","AudioContext","webkitAudioContext","analyser","createAnalyser","fftSize","canvas","current","canvasCtx","getContext","audioStream","createMediaStreamSource","document","documentElement","captureStream","connect","renderFrame","bufferLength","frequencyBinCount","dataArray","Uint8Array","getByteFrequencyData","clearRect","width","height","barWidth","x","i","barHeight","hue","fillStyle","fillRect","requestAnimationFrame","cancelAnimationFrame","_jsxDEV","children","ref","style","border","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/chris/Desktop/spotify-clone-main/client/src/components/MusicVisualizer.jsx"],"sourcesContent":["const MusicVisualizer = () => {\r\n\tconst canvasRef = useRef(null);\r\n\tconst animationRef = useRef(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst audioContext = new (window.AudioContext || window.webkitAudioContext)();\r\n\t\tconst analyser = audioContext.createAnalyser();\r\n\t\tanalyser.fftSize = 2048;\r\n\r\n\t\tconst canvas = canvasRef.current;\r\n\t\tconst canvasCtx = canvas.getContext(\"2d\");\r\n\r\n\t\tconst audioStream = audioContext.createMediaStreamSource(document.documentElement.captureStream());\r\n\t\taudioStream.connect(analyser);\r\n\r\n\t\tconst renderFrame = () => {\r\n\t\t\tconst bufferLength = analyser.frequencyBinCount;\r\n\t\t\tconst dataArray = new Uint8Array(bufferLength);\r\n\t\t\tanalyser.getByteFrequencyData(dataArray);\r\n\r\n\t\t\tcanvasCtx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n\t\t\tconst barWidth = (canvas.width / bufferLength) * 2;\r\n\t\t\tlet x = 0;\r\n\t\t\tfor (let i = 0; i < bufferLength; i++) {\r\n\t\t\t\tconst barHeight = (dataArray[i] / 255) * canvas.height;\r\n\t\t\t\tconst hue = (i / bufferLength) * 360;\r\n\t\t\t\tcanvasCtx.fillStyle = `hsl(${hue}, 100%, 50%)`;\r\n\t\t\t\tcanvasCtx.fillRect(x, canvas.height - barHeight, barWidth, barHeight);\r\n\t\t\t\tx += barWidth + 1;\r\n\t\t\t}\r\n\r\n\t\t\tanimationRef.current = requestAnimationFrame(renderFrame);\r\n\t\t};\r\n\r\n\t\trenderFrame();\r\n\r\n\t\treturn () => {\r\n\t\t\tcancelAnimationFrame(animationRef.current);\r\n\t\t};\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<canvas ref={canvasRef} width={800} height={400} style={{ border: \"1px solid white\" }} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default MusicVisualizer;\r\n"],"mappings":";;;AAAA,MAAMA,eAAe,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC7B,MAAMC,SAAS,GAAGC,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAMC,YAAY,GAAGD,MAAM,CAAC,IAAI,CAAC;EAEjCE,SAAS,CAAC,MAAM;IACf,MAAMC,YAAY,GAAG,KAAKC,MAAM,CAACC,YAAY,IAAID,MAAM,CAACE,kBAAkB,EAAE,CAAC;IAC7E,MAAMC,QAAQ,GAAGJ,YAAY,CAACK,cAAc,CAAC,CAAC;IAC9CD,QAAQ,CAACE,OAAO,GAAG,IAAI;IAEvB,MAAMC,MAAM,GAAGX,SAAS,CAACY,OAAO;IAChC,MAAMC,SAAS,GAAGF,MAAM,CAACG,UAAU,CAAC,IAAI,CAAC;IAEzC,MAAMC,WAAW,GAAGX,YAAY,CAACY,uBAAuB,CAACC,QAAQ,CAACC,eAAe,CAACC,aAAa,CAAC,CAAC,CAAC;IAClGJ,WAAW,CAACK,OAAO,CAACZ,QAAQ,CAAC;IAE7B,MAAMa,WAAW,GAAGA,CAAA,KAAM;MACzB,MAAMC,YAAY,GAAGd,QAAQ,CAACe,iBAAiB;MAC/C,MAAMC,SAAS,GAAG,IAAIC,UAAU,CAACH,YAAY,CAAC;MAC9Cd,QAAQ,CAACkB,oBAAoB,CAACF,SAAS,CAAC;MAExCX,SAAS,CAACc,SAAS,CAAC,CAAC,EAAE,CAAC,EAAEhB,MAAM,CAACiB,KAAK,EAAEjB,MAAM,CAACkB,MAAM,CAAC;MAEtD,MAAMC,QAAQ,GAAInB,MAAM,CAACiB,KAAK,GAAGN,YAAY,GAAI,CAAC;MAClD,IAAIS,CAAC,GAAG,CAAC;MACT,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGV,YAAY,EAAEU,CAAC,EAAE,EAAE;QACtC,MAAMC,SAAS,GAAIT,SAAS,CAACQ,CAAC,CAAC,GAAG,GAAG,GAAIrB,MAAM,CAACkB,MAAM;QACtD,MAAMK,GAAG,GAAIF,CAAC,GAAGV,YAAY,GAAI,GAAG;QACpCT,SAAS,CAACsB,SAAS,GAAI,OAAMD,GAAI,cAAa;QAC9CrB,SAAS,CAACuB,QAAQ,CAACL,CAAC,EAAEpB,MAAM,CAACkB,MAAM,GAAGI,SAAS,EAAEH,QAAQ,EAAEG,SAAS,CAAC;QACrEF,CAAC,IAAID,QAAQ,GAAG,CAAC;MAClB;MAEA5B,YAAY,CAACU,OAAO,GAAGyB,qBAAqB,CAAChB,WAAW,CAAC;IAC1D,CAAC;IAEDA,WAAW,CAAC,CAAC;IAEb,OAAO,MAAM;MACZiB,oBAAoB,CAACpC,YAAY,CAACU,OAAO,CAAC;IAC3C,CAAC;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,oBACC2B,OAAA;IAAAC,QAAA,eACCD,OAAA;MAAQE,GAAG,EAAEzC,SAAU;MAAC4B,KAAK,EAAE,GAAI;MAACC,MAAM,EAAE,GAAI;MAACa,KAAK,EAAE;QAAEC,MAAM,EAAE;MAAkB;IAAE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACrF,CAAC;AAER,CAAC;AAAChD,EAAA,CA/CID,eAAe;AAAAkD,EAAA,GAAflD,eAAe;AAiDrB,eAAeA,eAAe;AAAC,IAAAkD,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}